window.pbsInitCountdown=function(element){var display,displayParam,dateIsPast,date,prop,subElement,recreateDivs,i,sep,num,label;if(countdown){for(clearTimeout(element._pbsCountdownTimeout),display=(element.getAttribute("data-date-display")||"DAYS,HOURS,MINUTES,SECONDS").split(","),displayParam=0,i=0;i<display.length;i++)displayParam|=countdown[display[i]];if(dateIsPast=new Date>new Date(element.getAttribute("data-date")),date=countdown(new Date(element.getAttribute("data-date")),null,displayParam),recreateDivs=!1,display.length!==element.querySelectorAll(".pbs-countdown-num").length)recreateDivs=!0;else for(i=0;i<display.length;i++)if(prop=display[i].toLowerCase(),date.hasOwnProperty(prop)&&!(subElement=element.querySelector(".pbs-countdown-"+prop))){recreateDivs=!0;break}if(recreateDivs){for(;element.firstChild;)element.removeChild(element.firstChild);for(i=display.length-1;i>=0;i--)prop=display[i].toLowerCase(),date.hasOwnProperty(prop)&&(prop=display[i].toLowerCase(),(subElement=document.createElement("DIV")).classList.add("pbs-countdown-num"),subElement.classList.add("pbs-countdown-"+prop),subElement.innerHTML="<span></span><span></span>",subElement.firstChild.nextSibling.innerHTML=pbsCountdownParams[prop],element.insertBefore(subElement,element.firstChild),0!==i&&((sep=document.createElement("DIV")).classList.add("pbs-countdown-sep"),sep.innerHTML=":",element.insertBefore(sep,element.firstChild)))}for(i=0;i<display.length;i++)prop=display[i].toLowerCase(),date.hasOwnProperty(prop)&&(subElement=element.querySelector(".pbs-countdown-"+prop))&&(num=(1===date[prop].toString().length?"0":"")+date[prop],dateIsPast&&(num="00"),subElement.firstChild.innerHTML=num,element.getAttribute("data-label-"+prop)&&(label=element.getAttribute("data-label-"+prop),subElement.firstChild.nextSibling.innerHTML!==label&&(subElement.firstChild.nextSibling.innerHTML=label)));element._pbsCountdownTimeout=setTimeout(function(){window.pbsInitCountdown(element)},1e3)}},window.pbsInitAllCountdown=function(){var elements=document.querySelectorAll('[data-ce-tag="countdown"]');Array.prototype.forEach.call(elements,function(el){window.pbsInitCountdown(el)})},function(){var ready=function(){window.pbsInitAllCountdown()};"loading"!==document.readyState?ready():document.addEventListener("DOMContentLoaded",ready)}();